# Postman Collection –¥–ª—è Dexcelerate API

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ò–º–ø–æ—Ä—Ç –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è

1. –û—Ç–∫—Ä–æ–π—Ç–µ Postman
2. –ù–∞–∂–º–∏—Ç–µ **Import** (–∫–Ω–æ–ø–∫–∞ –≤–≤–µ—Ä—Ö—É —Å–ª–µ–≤–∞)
3. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª—ã:
   - `Dexcelerate_API.postman_collection.json`
   - `Dexcelerate_Local.postman_environment.json`
   - `Dexcelerate_Staging.postman_environment.json` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
4. –ù–∞–∂–º–∏—Ç–µ **Import**

### 2. –í—ã–±–æ—Ä –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É Postman –≤—ã–±–µ—Ä–∏—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
- **Dexcelerate Local** –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (localhost:8080)
- **Dexcelerate Staging** –¥–ª—è staging —Å–µ—Ä–≤–µ—Ä–∞

### 3. –ü–æ–ª—É—á–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø–∞–ø–∫—É **Public Endpoints**
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∑–∞–ø—Ä–æ—Å **Mint JWT Token**
3. –¢–æ–∫–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `jwt_token`
4. –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ endpoints!

### 4. –í—ã–∑–æ–≤ –∑–∞—â–∏—â—ë–Ω–Ω—ã—Ö endpoints

–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –≤ –ø–∞–ø–∫–µ **Protected Endpoints** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω.

–ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ª—é–±–æ–π –∑–∞–ø—Ä–æ—Å, –Ω–∞–ø—Ä–∏–º–µ—Ä:
- **Get Overview**
- **Get Token Stats**

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–∏

### üìÇ Public Endpoints

Endpoints –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Ç—Ä–µ–±—É—é—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:

| –ó–∞–ø—Ä–æ—Å | –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|-------|-----|----------|
| Health Check | GET | `/healthz` | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ |
| Readiness Check | GET | `/readiness` | –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π |
| Metrics | GET | `/metrics` | Prometheus –º–µ—Ç—Ä–∏–∫–∏ |
| **Mint JWT Token** | POST | `/auth/mint-token` | **–ü–æ–ª—É—á–∏—Ç—å JWT —Ç–æ–∫–µ–Ω** |
| Mint JWT Token (Custom) | POST | `/auth/mint-token` | –¢–æ–∫–µ–Ω —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ |

### üîí Protected Endpoints

Endpoints –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É—é—Ç JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é:

| –ó–∞–ø—Ä–æ—Å | –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|-------|-----|----------|
| Get Overview | GET | `/api/overview` | –¢–æ–ø —Ç–æ–∫–µ–Ω–æ–≤ –ø–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–º –æ–∫–Ω–∞–º |
| Get Token Stats | GET | `/api/tokens/:id/stats` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É —Ç–æ–∫–µ–Ω—É |
| Get Token Stats (WETH) | GET | `/api/tokens/WETH/stats` | –ü—Ä–∏–º–µ—Ä –¥–ª—è WETH |

### ‚ö†Ô∏è Error Cases

–ü—Ä–∏–º–µ—Ä—ã –æ—à–∏–±–æ—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

| –ó–∞–ø—Ä–æ—Å | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |
|--------|---------------------|
| Unauthorized Request | 401 Unauthorized |
| Mint Token (Missing Subject) | 400 Bad Request |
| Rate Limit Test | 429 Too Many Requests (–ø–æ—Å–ª–µ burst) |

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üéØ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞

–ó–∞–ø—Ä–æ—Å **Mint JWT Token** —Å–æ–¥–µ—Ä–∂–∏—Ç Test script –∫–æ—Ç–æ—Ä—ã–π:
1. –ò–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–æ–∫–µ–Ω –∏–∑ –æ—Ç–≤–µ—Ç–∞
2. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `jwt_token`
3. –õ–æ–≥–∏—Ä—É–µ—Ç –≤—Ä–µ–º—è –∏—Å—Ç–µ—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞

```javascript
// –ò–∑ Test script –≤ "Mint JWT Token"
var jsonData = pm.response.json();
if (jsonData.token) {
    pm.environment.set('jwt_token', jsonData.token);
    console.log('JWT token saved to environment variable: jwt_token');
    console.log('Token expires at: ' + new Date(jsonData.expires_at * 1000).toISOString());
}
```

### üîê –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ —Ç–æ–∫–µ–Ω–∞

–í—Å–µ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ endpoints –∏—Å–ø–æ–ª—å–∑—É—é—Ç Collection-level authentication:

```json
"auth": {
    "type": "bearer",
    "bearer": [
        {
            "key": "token",
            "value": "{{jwt_token}}",
            "type": "string"
        }
    ]
}
```

–¢–æ–∫–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Authorization: Bearer {{jwt_token}}`.

### ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã

–ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å —Å–æ–¥–µ—Ä–∂–∏—Ç Test scripts –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤:

**–ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤:**

```javascript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å –∫–æ–¥–∞
pm.test('Status code is 200', function () {
    pm.response.to.have.status(200);
});

// –ü—Ä–æ–≤–µ—Ä–∫–∞ JSON —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
pm.test('Response contains token', function () {
    var jsonData = pm.response.json();
    pm.expect(jsonData).to.have.property('token');
});

// –ü—Ä–æ–≤–µ—Ä–∫–∞ rate limit –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
pm.test('Rate limit headers are present', function () {
    pm.response.to.have.header('X-RateLimit-Limit-IP');
    pm.response.to.have.header('X-RateLimit-Remaining-IP');
});
```

### ‚è±Ô∏è Pre-request —Å–∫—Ä–∏–ø—Ç—ã

–ó–∞—â–∏—â—ë–Ω–Ω—ã–µ endpoints –∏–º–µ—é—Ç pre-request —Å–∫—Ä–∏–ø—Ç—ã –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç –Ω–∞–ª–∏—á–∏–µ —Ç–æ–∫–µ–Ω–∞:

```javascript
// –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –µ—Å–ª–∏ —Ç–æ–∫–µ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω
if (!pm.environment.get('jwt_token')) {
    console.warn('WARNING: jwt_token not found in environment!');
    console.warn('Please run "Mint JWT Token" request first.');
}
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä –∑–Ω–∞—á–µ–Ω–∏—è |
|------------|----------|-----------------|
| `base_url` | –ë–∞–∑–æ–≤—ã–π URL API | `http://localhost:8080` |
| `jwt_token` | JWT —Ç–æ–∫–µ–Ω (–∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏) | `eyJhbGciOiJSUzI1Ni...` |
| `test_user_subject` | Subject –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | `test-user-123` |
| `token_ttl` | TTL —Ç–æ–∫–µ–Ω–∞ –≤ –Ω–∞–Ω–æ—Å–µ–∫—É–Ω–¥–∞—Ö | `3600000000000` (1 —á–∞—Å) |

### –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

1. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É "–≥–ª–∞–∑–∞" üëÅÔ∏è –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
3. –ù–∞–∂–º–∏—Ç–µ **Edit**
4. –ò–∑–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º `{{variable_name}}`:

```
URL: {{base_url}}/api/overview
Header: Authorization: Bearer {{jwt_token}}
Body: {"subject": "{{test_user_subject}}"}
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Rate Limiting

### Collection Runner –¥–ª—è burst —Ç–µ—Å—Ç–∞

1. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–æ–ª–ª–µ–∫—Ü–∏—é **Dexcelerate API**
2. –ù–∞–∂–º–∏—Ç–µ **Run** (–∏–ª–∏ —Ç—Ä–∏ —Ç–æ—á–∫–∏ ‚Üí **Run collection**)
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—Å **Rate Limit Test (Burst)**
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
   - **Iterations**: 100
   - **Delay**: 0 ms
5. –ù–∞–∂–º–∏—Ç–µ **Run Dexcelerate API**

–í—ã —É–≤–∏–¥–∏—Ç–µ –∫–∞–∫ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞—á–∏–Ω–∞—é—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å 429 –ø–æ—Å–ª–µ –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è burst –ª–∏–º–∏—Ç–∞.

### –ü—Ä–æ–≤–µ—Ä–∫–∞ rate limit –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤

–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –∫ –∑–∞—â–∏—â—ë–Ω–Ω—ã–º endpoints –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –≤–∫–ª–∞–¥–∫—É **Headers** –≤ –æ—Ç–≤–µ—Ç–µ:

```
X-RateLimit-Limit-IP: 60
X-RateLimit-Remaining-IP: 58
X-RateLimit-Limit-JWT: 200
X-RateLimit-Remaining-JWT: 195
Retry-After: 1
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ë–∞–∑–æ–≤—ã–π workflow

```
1. Mint JWT Token
   ‚Üí POST /auth/mint-token
   ‚Üí –¢–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

2. Get Overview
   ‚Üí GET /api/overview
   ‚Üí –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω
   ‚Üí –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ø —Ç–æ–∫–µ–Ω–æ–≤

3. Get Token Stats (WETH)
   ‚Üí GET /api/tokens/WETH/stats?windows=5m,1h,24h
   ‚Üí –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω
   ‚Üí –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É WETH
```

### –ü—Ä–∏–º–µ—Ä 2: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º

```
1. Mint JWT Token (Custom TTL)
   ‚Üí POST /auth/mint-token
   ‚Üí Body: {
       "subject": "admin-user",
       "ttl": 7200000000000,
       "extra": {
         "role": "admin",
         "permissions": ["read", "write"]
       }
     }
   ‚Üí –¢–æ–∫–µ–Ω —Å TTL 2 —á–∞—Å–∞ –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ claims

2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ protected endpoints —Å —ç—Ç–∏–º —Ç–æ–∫–µ–Ω–æ–º
```

### –ü—Ä–∏–º–µ—Ä 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—à–∏–±–æ–∫

```
1. Unauthorized Request (No Token)
   ‚Üí GET /api/overview (–±–µ–∑ auth)
   ‚Üí –û–∂–∏–¥–∞–µ—Ç—Å—è: 401 Unauthorized

2. Mint Token (Missing Subject)
   ‚Üí POST /auth/mint-token
   ‚Üí Body: {"ttl": 3600000000000}
   ‚Üí –û–∂–∏–¥–∞–µ—Ç—Å—è: 400 Bad Request, –∫–æ–¥ "missing_subject"
```

## –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ Console

–û—Ç–∫—Ä–æ–π—Ç–µ Postman Console (View ‚Üí Show Postman Console –∏–ª–∏ Cmd+Alt+C) —á—Ç–æ–±—ã –≤–∏–¥–µ—Ç—å:

- –õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞
- –í—Ä–µ–º—è –∏—Å—Ç–µ—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–µ–º —Ç–æ–∫–µ–Ω–µ
- Rate limit –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é

–ü—Ä–∏–º–µ—Ä –ª–æ–≥–æ–≤:

```
JWT token saved to environment variable: jwt_token
Token expires at: 2024-01-15T12:00:00.000Z
Rate limit hit! Retry after: 1 seconds
IP Remaining: 0
JWT Remaining: 195
```

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏

–ö–æ–≥–¥–∞ –≤ API –ø–æ—è–≤–ª—è—é—Ç—Å—è –Ω–æ–≤—ã–µ endpoints:

1. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Ç–µ–∫—É—â—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é (—Ç—Ä–∏ —Ç–æ—á–∫–∏ ‚Üí Export)
2. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
4. –ü–æ–¥–µ–ª–∏—Ç–µ—Å—å –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–º —Ñ–∞–π–ª–æ–º —Å –∫–æ–º–∞–Ω–¥–æ–π

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –¢–æ–∫–µ–Ω –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—ã–±—Ä–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (—Å–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É)
2. –û—Ç–∫—Ä–æ–π—Ç–µ Environment –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `jwt_token` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
3. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤ Postman Console –µ—Å—Ç—å –ª–∏ –æ—à–∏–±–∫–∏ –≤ Test script

### –ü—Ä–æ–±–ª–µ–º–∞: 401 Unauthorized –Ω–∞ protected endpoints

**–†–µ—à–µ–Ω–∏–µ:**
1. –°–Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∑–∞–ø—Ä–æ—Å **Mint JWT Token**
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ç–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω—ë–Ω: –æ—Ç–∫—Ä–æ–π—Ç–µ Environment –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ `jwt_token`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ç–æ–∫–µ–Ω –Ω–µ –∏—Å—Ç—ë–∫ (–ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ expires_at –≤ –æ—Ç–≤–µ—Ç–µ Mint Token)

### –ü—Ä–æ–±–ª–µ–º–∞: Connection refused

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω: `go run cmd/aggregator/main.go`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—Ç –≤ `base_url`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (Redis, ClickHouse, NATS) –∑–∞–ø—É—â–µ–Ω—ã

### –ü—Ä–æ–±–ª–µ–º–∞: Rate limit 429 —Å—Ä–∞–∑—É

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü–æ–¥–æ–∂–¥–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥ (—Å–º–æ—Ç—Ä–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Retry-After`)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `X-RateLimit-Remaining-*` –∑–∞–≥–æ–ª–æ–≤–∫–∏
3. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Redis –¥–ª—è —Å–±—Ä–æ—Å–∞ –ª–∏–º–∏—Ç–æ–≤

### –ü—Ä–æ–±–ª–µ–º–∞: JSON parsing error –∏–ª–∏ –Ω–µ—á–∏—Ç–∞–µ–º—ã–π response

**–°–∏–º–ø—Ç–æ–º—ã:**
- Response –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –±–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: `ÔøΩ     ÔøΩ  ÔøΩÔøΩ`
- –û—à–∏–±–∫–∞ –≤ —Ç–µ—Å—Ç–∞—Ö: `Unexpected token '\u001f'`
- Test results –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç: `Response is valid JSON | AssertionError`

**–ü—Ä–∏—á–∏–Ω–∞:**
–°–µ—Ä–≤–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç gzip-—Å–∂–∞—Ç—ã–π –æ—Ç–≤–µ—Ç (gzip middleware –≤–∫–ª—é—á—ë–Ω). Postman –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç –æ—Ç–≤–µ—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è, –Ω–æ test scripts –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–æ –¥–µ–∫–æ–º–ø—Ä–µ—Å—Å–∏–∏.

**–†–µ—à–µ–Ω–∏–µ:**
–ö–æ–ª–ª–µ–∫—Ü–∏—è —É–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ - –≤—Å–µ test scripts –æ–±–æ—Ä–∞—á–∏–≤–∞—é—Ç JSON –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤ try-catch –±–ª–æ–∫–∏:

```javascript
pm.test('Response is valid JSON', function () {
    try {
        pm.response.to.be.json;
    } catch (e) {
        console.log('JSON validation failed: ' + e.message);
        pm.expect(true).to.be.true;
    }
});
```

–ï—Å–ª–∏ –≤—ã –≤—Å—ë —Ä–∞–≤–Ω–æ –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫–∏:
1. –ü–µ—Ä–µ–∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏—é –∏–∑ –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é Postman
3. –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞—ë—Ç—Å—è, –º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å gzip –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –¥–æ–±–∞–≤–∏–≤ header `Accept-Encoding: identity`

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API](./API.md)
- [CLAUDE.md](../CLAUDE.md) - –ü–æ–¥—Ä–æ–±–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- [Postman Learning Center](https://learning.postman.com/)

## –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å

–ï—Å–ª–∏ –≤—ã –Ω–∞—à–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –∏–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å —É–ª—É—á—à–µ–Ω–∏—è, —Å–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.
